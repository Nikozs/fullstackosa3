{"version":3,"sources":["components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","index.js"],"names":["Person","props","react_default","a","createElement","key","person","name","number","onClick","remove","Persons","persons","map","components_Person","bind","id","baseUrl","getAll","axios","get","create","newObject","post","update","put","concat","del","delete","Notification","_ref","message","className","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handlePersonDelete","event","arr","propName","propValue","i","length","findPerson","state","console","log","window","confirm","personsService","then","setState","filter","error","catch","setTimeout","addPerson","preventDefault","personsObject","newName","newNumber","target","array","inArray","response","data","handleNameChange","value","handleNumberChange","showAll","assertThisInitialized","_this2","components_Notification","onSubmit","onChange","type","components_Persons","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.04ff6996.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ( props ) => {\r\n    \r\n    return (\r\n\r\n    <tr key={props.person.name}>\r\n    <td>{props.person.name}</td>\r\n    <td> {props.person.number} </td><td><button onClick={props.remove}>Poista</button></td></tr>\r\n   \r\n    )}\r\n    \r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\n\r\nconst Persons = ( props ) => {\r\n    return (\r\n    <div><h2>Numerot</h2>\r\n    <table><tbody>\r\n    {props.persons.map(person =>\r\n    <Person key={person.name} person={person} remove={props.remove.bind(this,person.id)}/>\r\n    \r\n  )}\r\n\r\n  </tbody></table></div>\r\n    )}\r\n    \r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst del = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, del}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React from 'react';\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [\n      /*  { name: 'Arto Hellas', number: '040-123456' },\n        { name: 'Martti Tienari', number: '040-123456' },\n        { name: 'Arto Järvinen', number: '040-123456' },\n        { name: 'Lea Kutvonen', number: '040-123456' } */\n      ],\n      newName: '',\n      newNumber: '',\n      error: null,\n      showAll: true \n      \n    }\n    this.handlePersonDelete = this.handlePersonDelete.bind(this)\n  }\n\ncomponentDidMount() {\n  /*axios*/\n /*.get('http://localhost:3001/persons') */\n personsService\n .getAll()\n  .then(response => {\n    console.log('promise fulfilled')\n    this.setState({ persons: response.data })\n  })\n}\n\n\nhandlePersonDelete = (event) => {\n  function findPerson(arr,propName,propValue)\n  {\n    for (var i=0;i<arr.length;i++)\n    {\n      if (arr[i][propName]=== propValue)\n      return arr[i];\n    }\n  }\n  let person=findPerson(this.state.persons,\"id\",event)\n\n\n  console.log('target',event)\n  if (window.confirm('poistetaanko '+ person.name +' ?')) { \n   personsService\n  .del(event)\n  .then(\n    this.setState({\n      persons:this.state.persons.filter(person=> person.id!==event),\n      error:`Henkilö '${person.name}' poistettu`\n    }\n    )\n  )\n  .catch(error => {\n    this.setState({\n      error: ` Henkilön '${person.name}' poistaminen ei onnistunut `,\n    })\n    setTimeout(() => {\n      this.setState({error: null})\n    }, 5000)\n  }\n  )\n   setTimeout(() => {\n        this.setState({error: null})\n      }, 5000)\n}}\n\n \n\n  addPerson = (event) => {\n    function inArray(target, array)\n{\n\n  for(var i = 0; i < array.length; i++) \n  {\n    if (array[i].name===target.name)\n    {\n      console.log('Yhteystieto löytyi jo')\n      return true;\n    }\n  }\n  console.log('Yhteystieto ei löytynyt')\n  return false; \n}   \n      event.preventDefault()\n      const personsObject = {\n        name: this.state.newName,\n        number: this.state.newNumber\n      }\n      \n      if (!inArray(personsObject, this.state.persons)) {\n        console.log('Yhteystieto lisätty')\n\n      \n     personsService\n     .create(personsObject)\n     .then(response => {\n       this.setState({\n         persons: this.state.persons.concat(response.data),\n         newName: '',\n         newNumber: '',\n         error: 'Yhteystieto '+personsObject.name+' lisätty'\n       })  \n       setTimeout(() => {\n        this.setState({error: null})\n      }, 5000)\n     })\n     .catch(error => {\n      this.setState({\n        error: ` Henkilön '${personsObject.name}' lisääminen ei onnistunut `,\n      })\n      setTimeout(() => {\n        this.setState({error: null})\n      }, 5000)\n    })\n    }\n    }\n  \n  handleNameChange = (event) => {\n    this.setState({newName: event.target.value })\n  }\n  handleNumberChange = (event) => {\n    this.setState({newNumber: event.target.value })\n  }\n\n  \n\n  render() {\n\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <ul>\n         <Notification message={this.state.error}/>\n        </ul>\n        <form onSubmit={this.addPerson}>\n          <div>\n            nimi: <input \n            value={this.state.newName}\n            onChange={this.handleNameChange}/>\n          </div>      \n          \n          <div>\n            numero: <input \n            value={this.state.newNumber}\n            onChange={this.handleNumberChange}/>\n        </div>\n          <div>\n            <button type=\"submit\">Lisää</button>\n          </div>\n        </form>\n       \n        <Persons persons={this.state.persons} remove={this.handlePersonDelete}/>\n        </div>\n      )}\n    \n    \n  }\n\n\nexport default App\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}